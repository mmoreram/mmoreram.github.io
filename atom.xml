<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Because yes]]></title>
  <link href="http://mmoreram.github.io/atom.xml" rel="self"/>
  <link href="http://mmoreram.github.io/"/>
  <updated>2015-10-16T14:40:55+02:00</updated>
  <id>http://mmoreram.github.io/</id>
  <author>
    <name><![CDATA[Marc Morera]]></name>
    <email><![CDATA[yuhu@mmoreram.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Namespaces in Traits]]></title>
    <link href="http://mmoreram.github.io/blog/2015/10/16/namespaces-in-traits/"/>
    <updated>2015-10-16T12:32:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/10/16/namespaces-in-traits</id>
    <content type="html"><![CDATA[<blockquote><p>This post is under revision.</p></blockquote>

<p>Some projects using PHP 5.4 are actually using Traits. If you don&rsquo;t know yet
what a trait is, there are some interesting links for you.</p>

<ul>
<li><a href="https://secure.php.net/manual/en/language.oop5.traits.php">https://secure.php.net/manual/en/language.oop5.traits.php</a></li>
<li><a href="http://www.sitepoint.com/using-traits-in-php-5-4/">http://www.sitepoint.com/using-traits-in-php-5-4/</a></li>
<li><a href="http://www.sitepoint.com/php-traits-good-or-bad/">http://www.sitepoint.com/php-traits-good-or-bad/</a></li>
</ul>


<p>This post is about the usage of &ldquo;use statements&rdquo; in Traits, like this example</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">SomeProject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">SomeProject\SomeObject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * My trait</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">trait</span> <span class="nx">MyTrait</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Do something</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param SomeObject $someObject Some object instance</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">doSomething</span><span class="p">(</span><span class="nx">SomeObject</span> <span class="nv">$someObject</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Do things...</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Is that implementation good enough?</p>

<h2>TL;DR</h2>

<ul>
<li>Never use &ldquo;use statements&rdquo; in Traits. Never.</li>
</ul>


<h2>The overall picture</h2>

<p>When you work on open source, you learn to think about the overall picture. This
means that, probably, your code will somehow, somewhere, part of something even
bigger. Your code must be ready for that.</p>

<p>Let&rsquo;s work with the first shown example. This implementation is correct, right?
I mean, it seems correct because we are not thinking with the global design of
something bigger than our project.</p>

<p>When you work on open source, you learn as well some basic rules. These rules
are based on the reality of sharing. People share their work, and sometimes
means that you will never know what packages will coexist with your own package.</p>

<p>Remember that.</p>

<h2>Friendly packages</h2>

<p>Because our package should be able to work with other unknown packages, then we
should design our packages as much isolated as possible. A friendly package is
the one that can live with all type of external packages, even if they are not
friendly at all.</p>

<p>Let me show you why our first example is not friendly at all.
First of all let&rsquo;s see our package again.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">SomeProject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">SomeProject\SomeObject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * My trait</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">trait</span> <span class="nx">MyTrait</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Do something</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param SomeObject $someObject Some object instance</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">doSomething</span><span class="p">(</span><span class="nx">SomeObject</span> <span class="nv">$someObject</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Do things...</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This trait assumes too many things, and because of that, is not friendly at all.
We&rsquo;ll see soon why this implementation can make itself completely non-usable by
many projects.</p>

<p>Let&rsquo;s see another third party project, with another trait, providing us another
useful behavior.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">AnotherProject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">AnotherProject\SomeObject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * My another trait</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">trait</span> <span class="nx">MyAnotherTrait</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Do another thing</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param SomeObject $someObject Some object instance</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">soAnotherThing</span><span class="p">(</span><span class="nx">SomeObject</span> <span class="nv">$someObject</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Do things...</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, this class belongs to another isolated project, so each one will
work properly in its own sandbox. Until now, everything works perfectly&hellip; but
remember when we were talking about the overall picture? In the real world, this
last example is what happens.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">ThirdPartyProject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">SomeProject\MyTrait</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">AnotherProject\MyAnotherTrait</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * My super class</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">MySuperClass</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">use</span> <span class="nx">MyTrait</span><span class="p">;</span>
</span><span class='line'>    <span class="k">use</span> <span class="nx">MyAnotherTrait</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>What happens here?
Well, as you may know (otherwise, please read about Traits), a Trait is
considered as a simple copy/paste action inside a class. That means that, on the
one hand, all &ldquo;use statements&rdquo; are copied one by one on the top of the main
object, and on the other, all methods, with some priorities considerations, are
copied inside the main class.</p>

<p>So, our last example equals that new one.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">ThirdPartyProject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">SomeProject\SomeObject</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">AnotherProject\SomeObject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * My super class</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">MySuperClass</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Do something</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param SomeObject $someObject Some object instance</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">doSomething</span><span class="p">(</span><span class="nx">SomeObject</span> <span class="nv">$someObject</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Do things...</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Do another thing</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param SomeObject $someObject Some object instance</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">soAnotherThing</span><span class="p">(</span><span class="nx">SomeObject</span> <span class="nv">$someObject</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Do things...</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Oh, wait&hellip; can you see that?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">use</span> <span class="nx">SomeProject\SomeObject</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">AnotherProject\SomeObject</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you may think, this is ilÂ·legal in PHP.</p>

<h2>Complete namespaces</h2>

<p>Considering that all traits should be friendly then, the best solution here is
avoiding namespaces. You could tell right now&hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>- Oh, well Marc, you can have this problem as well with methods. What happens if
</span><span class='line'>  two traits have same method definitions?
</span><span class='line'>
</span><span class='line'>- Well, when you use a trait, then you should revise these parts that it offers
</span><span class='line'>  you (class signature, methods signature...). You should not take in account if
</span><span class='line'>  that trait uses internal statements or not, considering that as possible
</span><span class='line'>  incompatibilities with other usable traits.
</span></code></pre></td></tr></table></div></figure>


<p>So, this is our first example transformed as a friendly trait.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">SomeProject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * My trait</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">trait</span> <span class="nx">MyTrait</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Do something</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param \SomeProject\SomeObject\SomeObject $someObject Some object instance</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">doSomething</span><span class="p">(</span><span class="nx">\SomeProject\SomeObject\SomeObject</span> <span class="nv">$someObject</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Do things...</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Same trait, same behavior, but more friendly.
Have you ever had a problem related to this topic?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Composer install in CI]]></title>
    <link href="http://mmoreram.github.io/blog/2015/09/28/composer-install-in-ci/"/>
    <updated>2015-09-28T16:53:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/09/28/composer-install-in-ci</id>
    <content type="html"><![CDATA[<p>If you have a project with a lot of dependencies, then you might now what I am
talking about. We all love composer, but we all know as well that, at least with
current PHP versions, some composer.json are very heavy to compute and fulfill.
All this problems are reduced to time, and some CI engines, like Travis, only
allow a finite number of seconds (in Travis case, 20 minutes).</p>

<p>That&rsquo;s too much!</p>

<p>I found a solution (at least, I thought), but some days ago I saw that was not a
solution at all, but a workaround that only sometimes works properly. I will
explain exactly what&rsquo;s the point here.</p>

<h3>The problem</h3>

<p>My <code>composer.json</code> is very big and composer needs too much time to compute all
the dependencies. Reducing dependencies is not an option at all, so the only way
of reducing dependencies is by doing some refactoring.</p>

<p>Any final project needs a lot of dependencies, and even if your <code>composer.json</code>
file is small, you may need a dependency with a lot of dependencies.</p>

<h3>My solution (the bad one&hellip;)</h3>

<p>This solution is only wrong if you want to test your application under several
PHP versions. That&rsquo;s my case and could be yours&hellip;</p>

<p>Well. Computing the real dependencies in my environment seems a great solution,
right? I run <code>composer update</code> in my computer, I update the <code>composer.lock</code>
version in the repository, and then I only need to do <code>composer install</code>. What
I reduce here is the computing time of all recursive dependencies from 20+
minutes to less than 5 minutes.</p>

<p>That&rsquo;s great!</p>

<h3>Why this is a bad solution?</h3>

<p>Some projects have decided to increase the minimum PHP dependency only
increasing the minor version of the package (and is not wrong, is not BC break).
If your project believes in Semantic Version (semver), is usual to find these
pieces of composer blocks</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="s2">&quot;require&quot;</span><span class="err">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;5.4&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;symfony/symfony&quot;</span><span class="p">:</span> <span class="s2">&quot;^2.7&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;doctrine/orm&quot;</span><span class="p">:</span> <span class="s2">&quot;^2.5&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;some/package&quot;</span><span class="p">:</span> <span class="s2">&quot;^1.3&quot;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If my development environment uses PHP 5.5, then I will be able to work with
this composer requirements. Great. We update our dependencies, we update our
repository with the <code>composer.lock</code> file, and everything should work as
expected.</p>

<p>The problem here is that there is an scenario that we are not considering here,
and is that for sure, our <code>composer.lock</code> is the result of computing the
<code>composer.json</code> file in PHP 5.5, but this doesn&rsquo;t mean that same dependencies
will work as well in PHP 5.4.</p>

<p>Let&rsquo;s see the <code>some/package</code> composer definition in version 1.3.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="s2">&quot;require&quot;</span><span class="err">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;5.4&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;whatever/whatever&quot;</span><span class="p">:</span> <span class="err">*</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>And then, let&rsquo;s see the same composer file in version 1.4.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="s2">&quot;require&quot;</span><span class="err">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;5.5&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;whatever/whatever&quot;</span><span class="p">:</span> <span class="err">*</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As long as we create the <code>composer.lock</code> file in our development environment
(remember, with PHP 5.5), we will use version 1.4 of package <code>some/package</code>, but
this package version is not compatible with PHP 5.4.</p>

<p>What will happens is that, when we do <code>composer install</code> in your CI, composer
will throw an Exception. And that&rsquo;s always bad news.</p>

<h3>The good solution</h3>

<p>There&rsquo;s no good solution at all. In fact, there are only partial solutions, for
example generating the <code>composer.lock</code> file with the highest PHP version
allowed, but then, if you work with a dependency that forces a PHP version in
each version, this won&rsquo;t work at all.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="s2">&quot;require&quot;</span><span class="err">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;5.4&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;whatever/whatever&quot;</span><span class="p">:</span> <span class="err">*</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>So, the only way of doing that is by using <code>composer update</code> in your CI
platform. The good point is that you <strong>must</strong> take care of your <code>composer.json</code>
file&hellip;</p>

<h3>For libraries</h3>

<p>If you work with a library, then use the biggest dependency scope. This will
allow more users to use your library. Of course, you will increase the final
time of composer computation time, but is not your problem at all.</p>

<p>Of course, library composer dependencies should be as small as possible.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="s2">&quot;require&quot;</span><span class="err">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;5.4&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;whatever/whatever&quot;</span><span class="p">:</span> <span class="err">*</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>For final projects</h3>

<p>Final projects have the responsibility of reducing that scope, only allowing
explicitly highest versions. Of course, final projects can host big composer
structures (at least it&rsquo;s not a bad practice&hellip;), so in that case you will have
to work harder to reduce that file.</p>

<p>The problem here is not a problem at all, so it has no sense to test your final
application under several PHP versions, at least in your CI platform. Just test
it under your current PHP version, right?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="s2">&quot;require&quot;</span><span class="err">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;php&quot;</span><span class="p">:</span> <span class="s2">&quot;5.5&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;whatever/whatever&quot;</span><span class="p">:</span> <span class="err">^</span><span class="mf">1.5</span><span class="err">.</span><span class="mi">4</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Symfony UG, be our friend]]></title>
    <link href="http://mmoreram.github.io/blog/2015/09/14/symfony-ug-be-our-friend/"/>
    <updated>2015-09-14T10:57:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/09/14/symfony-ug-be-our-friend</id>
    <content type="html"><![CDATA[<p>Symfony Barcelona UG have been looking some sponsors for a while, and we have
had a great response from the community. We are so proud and happy about that.</p>

<p>As a User Group, we want to be a community group for all the community, so from
today, you can be our UG friend :)</p>

<p>If you are a Symfony UG around the world and you want to be part of it, very
easy. Just send an email to
<a href="symfonybarcelona@gmail.com">symfonybarcelona@gmail.com</a> or just a simple tweet
with <a href="http://twitter.com/symfony_bcn">@symfony_bcn</a>. We will add your logo in
our website and you will appear in our next event.</p>

<p>Then, we will be friends :)</p>

<p>Please, share this post on your social networks, and help us making a better
world with tons of tiny and cute cats :)</p>

<p>Have a nice week!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Symfony Barcelona Event, September 2015]]></title>
    <link href="http://mmoreram.github.io/blog/2015/09/07/symfony-barcelona-event-september-2015/"/>
    <updated>2015-09-07T21:38:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/09/07/symfony-barcelona-event-september-2015</id>
    <content type="html"><![CDATA[<p>It is a pleasure for me to announce that next September 22nd we will have a
great event in Barcelona. I&rsquo;ve talked many times about this local organization,
but this time is pretty different. I&rsquo;ll explain you.</p>

<p>This year Barcelona hosts the
<a href="https://events.drupal.org/barcelona2015">DrupalCon Europe 2015</a>, and this is
super exciting. Many people from around the world will visit our great and
amazing streets and will attend to a great and big event, related with Drupal,
Symfony and other interesting topics, always, related to the Drupal world.</p>

<p>This is very interesting from the point of view of Symfony, because as you may
know, new version of drupal, Drupal8, is build using some Symfony components.
This is one of the examples I refer when I talk about sharing technologies
between PHP projects and when I talk about open source, community and other
related topics. We&rsquo;ve seen these synergies between other PHP projects and
Symfony as well with Laravel, eZ Publish, Magento and Joomla (and many more,
indeed)</p>

<p>So, this is a call to all the community coming to Barcelona next September 21st.
We will host Fabien Potencier, the creator of Symfony, and Lukas Kahwe Smith, an
amazing and super active PHP developer, member, for example, of the PHP-FIG
group.</p>

<p><a href="http://symfony-barcelona.es">http://symfony-barcelona.es</a></p>

<p>Isn&rsquo;t it interesting? Indeed, but this is not all!</p>

<p>We are planning to overcome our last assistance record, which is 140 attendees.
This time, we want to fill an auditorium of 600 seats and show you what really
is Barcelona, and how amazing can be :)</p>

<p>Our sponsors are ready<br/>
The community is ready<br/>
The organization is ready<br/>
Only one thing is missing here&hellip;</p>

<p><strong>You!</strong></p>

<p><a href="http://symfony-barcelona.es#register">Join us now for free!</a> and please share
this post to allow everyone to know about it!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[EventListeners as collectors in Symfony]]></title>
    <link href="http://mmoreram.github.io/blog/2015/08/28/eventlisteners-as-collectors-in-symfony/"/>
    <updated>2015-08-28T12:04:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/08/28/eventlisteners-as-collectors-in-symfony</id>
    <content type="html"><![CDATA[<p>Some of my concerns during the last couple of years have been how to collect
data from all installed bundles using available tools in Symfony packages.
I say concerns because I don&rsquo;t really know if is there a tool for that.</p>

<p>Some people have told me that the
<a href="http://symfony.com/doc/current/components/event_dispatcher/introduction.html">EventDispatcher component</a>
can do this work greatly, but then I have the same question once and again&hellip; is
this component designed for such?</p>

<p>Let&rsquo;s review some tiny concepts here.</p>

<h2>Event immutability</h2>

<p>Try to think what really is an event. Something that happens. For example, I
wake up. Once I wake up, an event is dispatched called <code>mmoreram.wake_up</code>. This
event, of course, is immutable. Nothing can change the fact that I woke up, so
the event should be treated as an immutable object, with only reading actions.</p>

<p>One single property of the event is injected once is created. Did I wake up
rested enough for a new crazy day with all cool guys from my office?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">Mmoreram</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">Symfony\Component\EventDispatcher\Event</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * Marc woke up event</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">MmoreramWakeUpEvent</span> <span class="k">extends</span> <span class="nx">Event</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * @var boolean</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * Marc woke up rested</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">private</span> <span class="nv">$rested</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Construct method</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @var boolean $rested Marc woke up rested</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$rested</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">rested</span> <span class="o">=</span> <span class="nv">$rested</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Get if Marc is rested enough</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return boolean Marc is rested enough</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">isRested</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">rested</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, no one should be able to change the value of rested, because no one
has the <strong>power</strong> to change the fact I woke up tired this night.</p>

<p>The main intention of an event is notify the world that something just happened,
so any extra implementation changing this paradigm should be avoided in order to
not corrupt the real meaning of the component.</p>

<p>Said that, and before continuing with the post&hellip; a question related to this
topic. Just make sure that you can take some time to think about that.</p>

<p>If we talk about decoupling between components&hellip; is the concept of <code>priority</code>
helpful? If any actor must know the priorities of all listeners in order to know
its own&hellip; then can we consider that all event listeners are really decoupled
between them? And how bad is that?</p>

<h2>Collector</h2>

<p>Let&rsquo;s figure out that the system need to collect some feelings when I wake up.
Let&rsquo;s figure out as well that we don&rsquo;t really care about how these feelings are
sorted, so the problem of priority is not a problem anymore: we can ignore it
completely.</p>

<p>We can change our event with this new implementation.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">namespace</span> <span class="nx">Mmoreram</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">use</span> <span class="nx">Symfony\Component\EventDispatcher\Event</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">Mmoreram\Feeling</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * Marc woke up event</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">MmoreramWakeUpEvent</span> <span class="k">extends</span> <span class="nx">Event</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * @var boolean</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * Marc woke up rested</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">private</span> <span class="nv">$rested</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * @var Feeling[]</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * Array of feelings</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">private</span> <span class="nv">$feelings</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Construct method</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @var boolean $rested Marc woke up rested</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$rested</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">rested</span> <span class="o">=</span> <span class="nv">$rested</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feelings</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Add new feeling</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param Feeling $feeling New feeling to be added</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return $this Self object</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">addFeeling</span><span class="p">(</span><span class="nx">Feeling</span> <span class="nv">$feeling</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feelings</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$feeling</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Get if Marc is rested enough</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return boolean Marc is rested enough</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">isRested</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">rested</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Get all feelings</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return Feeling[] Set of feelings</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getFeelings</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feelings</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, in our domain we must dispatch this event one I really wake up (for
example a service called <code>MmoreramVitalActions</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">use</span> <span class="nx">Symfony\Component\EventDispatcher\EventDispatcher</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">Symfony\Component\EventDispatcher\Event</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nx">Mmoreram\MmoreramWakeUpEvent</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * Marc vital actions</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">MmoreramVitalActions</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Marc wakes up</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return Feeling[] Set of feelings resulting of the action of waking up</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">wakeUp</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$rested</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">didMarcRestedProperly</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$eventDispatcher</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventDispatcher</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MmoreramWakeUpEvent</span><span class="p">(</span><span class="nv">$rested</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$dispatcher</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">dispatch</span><span class="p">(</span>
</span><span class='line'>                <span class="s1">&#39;mmoreram.wake_up&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="nv">$event</span>
</span><span class='line'>            <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">getFeelings</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Get if Marc rested properly</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return boolean Marc rested properly</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">function</span> <span class="nf">didMarcRestedProperly</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, after dispatching the event you should be able to get all
collected feelings. This means that the one in charge to fulfill this
information related to my feelings should be any event listener interested in
adding it&rsquo;s own related feeling.</p>

<p>For example, an Event Listener will have the responsibility to add a feeling
related to the temperature of my room.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">use</span> <span class="nx">Mmoreram\MmoreramWakeUpEvent</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * Marc wake up event listener related to temperature.</span>
</span><span class='line'><span class="sd"> * This class is intended to add a feeling depending on local temperature</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">TemperatureMmoreramWakeUpEventListener</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Marc wakes up listener</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param MmoreramWakeUpEvent $event Marc wake up event</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return $this Self object</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">addTemperatureFeeling</span><span class="p">(</span><span class="nx">MmoreramWakeUpEvent</span> <span class="nv">$event</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$feeling</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getTemperatureFeeling</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">addFeeling</span><span class="p">(</span><span class="nv">$feeling</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Get feeling related to the temperature</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @return Feeling Feeling related to temperature</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">function</span> <span class="nf">getTemperatureFeeling</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, you must add this event listener using tags in the Dependency
Injection Symfony configuration.</p>

<p><a href="http://symfony.com/doc/current/reference/dic_tags.html">Using tags for our listeners definition</a></p>

<p>At this point, you can see that maybe this is useful. This is a very easy and
fast collector implementation, but not enough good. The event is not immutable
anymore and you can change if from any event dispatcher, very far from the real
intention of the component.</p>

<h2>Solution</h2>

<p>I am using this approach in order to be as much pragmatic as possible. Of course
this works properly by adding an extra definition and documentation layer, but
I wonder if other people is concerned about that in Symfony.</p>

<p>I don&rsquo;t really think that yet another component called Collector would be
necessary at all unless there is an abstraction between both components (they
share some common things related to the fact of broadcasting and subscribing).</p>

<p>Of course, again, simple theory and personal thoughts brought to the community.
I will continue using this approach even knowing that should be solved using
another one as long as people understand it and is easy to work with.</p>

<p>Feedback and people thoughts will be appreciated, as always :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Symfony in Barcelona]]></title>
    <link href="http://mmoreram.github.io/blog/2015/08/23/symfony-in-barcelona/"/>
    <updated>2015-08-23T17:22:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/08/23/symfony-in-barcelona</id>
    <content type="html"><![CDATA[<p>Barcelona, one of the best cities in the world.</p>

<p>For you, Symfony lover. Do you know where is Barcelona, right?
Well, this is a call for all Symfony lovers who want something special,
something really different. Amazing people, amazing food and tons and tons of
new experiences with one of the greatest Symfony Communities around the world.</p>

<iframe width="1280" height="720" src="http://www.youtube.com/embed/6DxX1DYHOlk?feature=player_detailpage&VQ=HD720" frameborder="0" allowfullscreen></iframe>


<p>A lot of companies are actually being built in this city, so we really want you
with us. No matter your Symfony expertise, no matter how good you really are&hellip;
in Barcelona only matters one simple thing&hellip; How good you want to be. If you
want to be one of the bests, then Barcelona can be your new home :)</p>

<p>If you want to know more about it, just send an email to Symfony Barcelona User
Group and you will be properly helped to move here with us. The group email is
<a href="&#x6d;&#97;&#105;&#x6c;&#116;&#111;&#58;&#115;&#x79;&#109;&#x66;&#x6f;&#x6e;&#x79;&#x62;&#x61;&#114;&#99;&#101;&#x6c;&#111;&#110;&#97;&#x40;&#x67;&#x6d;&#97;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;">&#115;&#121;&#x6d;&#102;&#x6f;&#110;&#x79;&#x62;&#x61;&#114;&#99;&#101;&#x6c;&#x6f;&#110;&#x61;&#x40;&#103;&#x6d;&#97;&#105;&#108;&#x2e;&#99;&#x6f;&#x6d;</a></p>

<p>You want to join us, but you don&rsquo;t know it yet :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Re-thinking Event Listeners]]></title>
    <link href="http://mmoreram.github.io/blog/2015/08/20/re-thinking-event-listeners/"/>
    <updated>2015-08-20T12:27:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/08/20/re-thinking-event-listeners</id>
    <content type="html"><![CDATA[<p>Let&rsquo;s talk about Event Listeners.
Do you know what an Event Listener is?</p>

<p>Well, if you are used to working with Symfony, then you should know what is
intended for. If you don&rsquo;t, don&rsquo;t hesitate to take a look at the Symfony
documentation.</p>

<p>This post aims to start a small discussion about how an Event Listener should
look like if we really want to keep things decoupled.</p>

<h2>TL;DR</h2>

<ul>
<li>If we place our business logic inside the Event Listeners, we will not be able
to use this logic from other points, for example sending a &ldquo;Order created&rdquo; email
by hand from our Admin using a simple button.</li>
<li>What we could do is place ALL the logic inside a service that ONLY sends that
email, exposing a simple and documented api.</li>
<li>Then, considering that this service is injectable using any Dependency
Injection implementation, we can inject it into the Event Listener.</li>
<li>So, EventListeners are only a point of entry to your service layer</li>
</ul>


<h2>Using Event Listeners</h2>

<p>To understand what I am talking about, let&rsquo;s use an small example to make things
more clear&hellip;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Scenario: You buy something in an e-commerce, so, internally, your Cart became 
</span><span class='line'>an Order. Of course, and because user experience is important in that cases, you 
</span><span class='line'>want to send an email to the user with some Order information, so you need to 
</span><span class='line'>send an email to the Customer.
</span><span class='line'>
</span><span class='line'>Problem: You want to create this feature in a very decoupled way, of course. The
</span><span class='line'>e-commerce framework provides you that way, by proposing you an event once the
</span><span class='line'>Order is created. You can access the Order itself and the Customer.
</span><span class='line'>
</span><span class='line'>Solution: Create a new Event Listener object, subscribed to this event called
</span><span class='line'>order.oncreate, and sending that email.</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s see a small example about how this Event Listener should look like. We
will follow the simple way, only focusing about sending that email in a
decoupled way with the action.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">OrderEmailEventListener</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * We send an email to the Customer once an order is created</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param OrderOnCreatedEvent $event Event</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">sendEmail</span><span class="p">(</span><span class="nx">OrderOnCreatedEvent</span> <span class="nv">$event</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$order</span> <span class="o">=</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">getOrder</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">getCustomer</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="sd">/**</span>
</span><span class='line'><span class="sd">         * Send the email</span>
</span><span class='line'><span class="sd">         */</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>And we could use this configuration in our bundle.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># Event Listeners</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="l-Scalar-Plain">project.event_listener.order_created_email</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">My\Bundle\EventListener\OrderCreatedEmailEventListener</span>
</span><span class='line'>        <span class="l-Scalar-Plain">tags</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">name</span><span class="p-Indicator">:</span> <span class="nv">kernel.event_listener</span><span class="p-Indicator">,</span> <span class="nv">event</span><span class="p-Indicator">:</span> <span class="nv">order.oncreate</span><span class="p-Indicator">,</span> <span class="nv">method</span><span class="p-Indicator">:</span> <span class="nv">sendEmail</span> <span class="p-Indicator">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>So this could be a simple implementation. I&rsquo;ve been using it since the beginning
of times as this could be considered a good practice. But, during this time
doing more and more Event Listeners, some questions have come to my mind.</p>

<h2>Decoupling from the Event</h2>

<p>Let&rsquo;s consider that our project has an admin panel. Of course, we should be able
to send this email any time we need (for example, our email server was down
during the order conversion and we must re-send it). Is this possible with this
implementation?</p>

<p>Yes. Let&rsquo;s do this considering that we have injected our EventListener and this
one is accessible locally!</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OrderCreatedEmailEventListener</span><span class="p">(</span>
</span><span class='line'>    <span class="nv">$order</span><span class="p">,</span>
</span><span class='line'>    <span class="nv">$customer</span>
</span><span class='line'><span class="p">);</span>
</span><span class='line'><span class="nv">$orderCreatedEmailEventListener</span><span class="o">-&gt;</span><span class="na">sendEmail</span><span class="p">(</span><span class="nv">$event</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Well, this piece of code will really send the email&hellip; but is this
implementation enough right? I don&rsquo;t think so&hellip;</p>

<p>This Event should only be dispatched when the real event happens. It has no
sense to create a new <code>OrderEmailEventListener</code> instance without using the
event dispatcher. This means that, indeed, any Order has been created.</p>

<p>So first of all, creating a new Event out of turn, is not a good practice at
all.</p>

<p>For solving this, We could do that.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">OrderCreatedEmailEventListener</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * We send an email to the Customer once an order is created</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param OrderOnCreatedEvent $event Event</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">sendEmail</span><span class="p">(</span><span class="nx">OrderOnCreatedEvent</span> <span class="nv">$event</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$order</span> <span class="o">=</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">getOrder</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">getCustomer</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendOrderCreatedEmail</span><span class="p">(</span>
</span><span class='line'>            <span class="nv">$order</span><span class="p">,</span>
</span><span class='line'>            <span class="nv">$customer</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * We send an email to the Customer once an order is created, given the </span>
</span><span class='line'><span class="sd">     * order and the customer</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param OrderInterface    $order    Order</span>
</span><span class='line'><span class="sd">     * @param CustomerInterface $customer Customer</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">sendOrderCreatedEmail</span><span class="p">(</span>
</span><span class='line'>        <span class="nx">OrderInterface</span> <span class="nv">$order</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">CustomerInterface</span> <span class="nv">$customer</span>
</span><span class='line'>    <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="sd">/**</span>
</span><span class='line'><span class="sd">         * Send the email</span>
</span><span class='line'><span class="sd">         */</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>And then, we could do this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$orderCreatedEmailEventListener</span><span class="o">-&gt;</span><span class="na">sendOrderCreatedEmail</span><span class="p">(</span>
</span><span class='line'>    <span class="nv">$order</span><span class="p">,</span>
</span><span class='line'>    <span class="nv">$customer</span>
</span><span class='line'><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Much better, right?
But is this good enough? No is not.</p>

<h2>Decoupling from the Listener</h2>

<p>We are using an instance of an Event Listener to send an email. Our analysis
could be exactly the same than before&hellip; Should we use an Event Listener even
when an event is not dispatched?</p>

<p>No we should not.</p>

<p>An Event Listener is an event listener. Listens one event, and that should be
all its work. So, we should never inject any event listener, anywhere. Let&rsquo;s do
some refactor here!</p>

<p>First of all, let&rsquo;s isolate our business logic in a new service. This service
will <strong>only</strong> do one thing; sending this email.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">OrderCreatedEmailSender</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * We send an email to the Customer once an order is created, given the </span>
</span><span class='line'><span class="sd">     * order and the customer</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param OrderInterface    $order    Order</span>
</span><span class='line'><span class="sd">     * @param CustomerInterface $customer Customer</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">sendEmail</span><span class="p">(</span>
</span><span class='line'>        <span class="nx">OrderInterface</span> <span class="nv">$order</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">CustomerInterface</span> <span class="nv">$customer</span>
</span><span class='line'>    <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="sd">/**</span>
</span><span class='line'><span class="sd">         * Send the email</span>
</span><span class='line'><span class="sd">         */</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This service has only one mission. Sending this email, no matter what event
executes it, no matter its environment. So if we take a look at what the Event
Listener implementation should look like now&hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">OrderCreatedEmailEventListener</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * @var OrderCreatedEmailSender</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * Order created email sender</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">private</span> <span class="nv">$orderCreatedEmailSender</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Constructor</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param OrderCreatedEmailSender $orderCreatedEmailSender</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">OrderCreatedEmailSender</span> <span class="nv">$orderCreatedEmailSender</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderCreatedEmailSender</span> <span class="o">=</span> <span class="nv">$orderCreatedEmailSender</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * We send an email to the Customer once an order is created</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param OrderOnCreatedEvent $event Event</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">sendEmail</span><span class="p">(</span><span class="nx">OrderOnCreatedEvent</span> <span class="nv">$event</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$order</span> <span class="o">=</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">getOrder</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">getCustomer</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$this</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">orderCreatedEmailSender</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">sendEmail</span><span class="p">(</span>
</span><span class='line'>                <span class="nv">$order</span><span class="p">,</span>
</span><span class='line'>                <span class="nv">$customer</span>
</span><span class='line'>            <span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Finally, we should refactor as well the way we have defined our service in the
DependencyInjection config file.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># Business layer</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="l-Scalar-Plain">project.business.order_created_email_sender</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">My\Bundle\Business\OrderCreatedEmailSender</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># Event Listeners</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="l-Scalar-Plain">project.event_listener.order_created_email</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">My\Bundle\EventListener\OrderCreatedEmailEventListener</span>
</span><span class='line'>        <span class="l-Scalar-Plain">arguments</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">@</span><span class="l-Scalar-Plain">project.business.order_created_email_sender</span>
</span><span class='line'>        <span class="l-Scalar-Plain">tags</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">name</span><span class="p-Indicator">:</span> <span class="nv">kernel.event_listener</span><span class="p-Indicator">,</span> <span class="nv">event</span><span class="p-Indicator">:</span> <span class="nv">order.oncreate</span><span class="p-Indicator">,</span> <span class="nv">method</span><span class="p-Indicator">:</span> <span class="nv">sendEmail</span> <span class="p-Indicator">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>And that&rsquo;s all.
This example is so easy and simple, but I am sure that if you take a look at
your project, you will find a lot of logic inside your Event Listeners. Maybe
could be a good idea start moving all this logic out of the box, treating these
listeners as real entry points, like we do with our Commands, Controllers or
Twig extensions.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Defeating Expression Language]]></title>
    <link href="http://mmoreram.github.io/blog/2015/05/18/defeating-expression-language/"/>
    <updated>2015-05-18T09:53:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/05/18/defeating-expression-language</id>
    <content type="html"><![CDATA[<p>How beautiful Expression Language definitions are, right? I mean, inserting that
complex expressions in a Dependency Injection configuration file is so nice and
fast if you need to inject the result of a method in a service (one of the
multiple examples we can see)</p>

<p>Let&rsquo;s see a simple example of how we use this library.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># My managers</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="l-Scalar-Plain">some_manager</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">This\Is\My\Manager</span>
</span><span class='line'>        <span class="l-Scalar-Plain">arguments</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">@</span><span class="l-Scalar-Plain">=service(&quot;another_manager&quot;).someCall(&quot;value&quot;)</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">@</span><span class="l-Scalar-Plain">=service(&quot;yet_another_manager&quot;).getInjectableInstance(parameter(&quot;my_parameter&quot;))</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is not a bad idea, really, but because we are engineers and we should have
as much information as possible in order to be able to choose between the best
option, always, I will show you another way of defining this piece of code.</p>

<p>Let&rsquo;s do that!</p>

<h3>Factories</h3>

<p>Remember the <a href="http://mmoreram.com/blog/2013/12/23/factory-pattern-in-symfony2/">Factory pattern in Symfony2</a>
post I wrote some time ago? I talked about how this pattern can be implemented
in your Symfony projects.</p>

<p>Well, just for your information, most of your Expression Language definitions
can be nicely done using Factories.</p>

<p>Let&rsquo;s reproduce the same example using factories.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># My managers</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="l-Scalar-Plain">some_manager</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">This\Is\My\Manager</span>
</span><span class='line'>        <span class="l-Scalar-Plain">arguments</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">@</span><span class="l-Scalar-Plain">my_injectable_value</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">@</span><span class="l-Scalar-Plain">my_injectable_service</span>
</span><span class='line'>
</span><span class='line'>    <span class="l-Scalar-Plain">my_injectable_value</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">StdClass</span>
</span><span class='line'>        <span class="l-Scalar-Plain">factory</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">@</span><span class="l-Scalar-Plain">another_manager</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">someCall</span>
</span><span class='line'>        <span class="l-Scalar-Plain">arguments</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span>
</span><span class='line'>
</span><span class='line'>    <span class="l-Scalar-Plain">my_injectable_service</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">This\Is\My\Injectable\Class</span>
</span><span class='line'>        <span class="l-Scalar-Plain">factory</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">@</span><span class="l-Scalar-Plain">yet_another_manager</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">getInjectableInstance</span>
</span><span class='line'>        <span class="l-Scalar-Plain">arguments</span><span class="p-Indicator">:</span>
</span><span class='line'>            <span class="p-Indicator">-</span> <span class="err">%</span><span class="l-Scalar-Plain">my_parameter%</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Dependency</h3>

<p>Take a look and realise that we&rsquo;ve removed a package dependency from your
project, as you don&rsquo;t need <code>symfony/expression-language</code> anymore, and your DIC
definition will be easily exportable to another format if someday is needed.</p>

<h3>Reflexion</h3>

<p>Is Expression Language a bad choice? Well, only you should be able to know if
using this library is a good choice or not, because only you know your needs and
your resources, but every time you add a new Expression Language line, just ask
yourself&hellip;</p>

<p>Can I use simple DI definitions here? Is the only way I can do that?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Crowdfunding Soundtrack - El Evento]]></title>
    <link href="http://mmoreram.github.io/blog/2015/05/08/crowdfunding-soundtrack-the-event/"/>
    <updated>2015-05-08T17:29:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/05/08/crowdfunding-soundtrack-the-event</id>
    <content type="html"><![CDATA[<blockquote><p>This post is written in Spanish, but I will translate it soon. Stay tuned for
the translation :D</p></blockquote>

<p>Finalmente, y despuÃ©s de unas semanas cociendo la idea, valorando pros y contras
y el impacto que puede tener en mi vida personal lo que os voy a contar, he
decidido tirar para delante la idea mÃ¡s estÃºpida que se me ha podido ocurrir en
los 29 aÃ±os de edad que tengo.</p>

<p>En pocas palabras, a modo introductorio y declarativo.</p>

<p>La idea es hacer una iniciativa CrowdFunding durante un periodo de 3 meses y
conseguir el dinero suficiente para cumplir los siguientes objetivos.</p>

<ul>
<li>Dado una <a href="http://open.spotify.com/user/mmoreramerino/playlist/76u4iXLIFxO3PMFWfwYk5A">lista de spotify</a>
donde he agrupado mis temas favoritos de bandas sonoras, que una Orquestra
SinfÃ³nica interprete los temas en un evento pÃºblico.</li>
<li>Yo, por mi parte, estudiar durante un periodo de tiempo direcciÃ³n de orquestra
bÃ¡sico. Evidentemente lo justo para entender los conceptos necesarios y
defenderme.</li>
<li>Dirigir yo, personalmente, uno de los temas.</li>
<li>Donar absolutamente todo el dinero que se recaude en el evento (entradas,
dinero que no se haya gastado despuÃ©s de la iniciativa) al desarrollo y la
investigaciÃ³n de la sordera. AÃºn estoy buscando organizaciÃ³n, universidad o
instituto.</li>
<li>Cumplir uno de mis retos personales, y con ello, ayudar a que otros cumplan
los suyos.</li>
</ul>


<p>Si en este punto sigues leyendo sin pensar que estoy mal de la cabeza,
recapacita; lo estoy. AÃºn asÃ­, eso no deberÃ­a impedir que uno haga lo que
realmente quiere hacer, pues <em>que serÃ­amos sin sueÃ±os estÃºpidos, solo estÃºpidos
sin sueÃ±os</em>.</p>

<h2>Los temas musicales</h2>

<p>PodÃ©is encontrar el enlace de la lista de Spotify en el parÃ¡grafo anterior (debo
decir que falta un track de &ldquo;La Roca&rdquo; inexistente en Spotify. A continuaciÃ³n
adjunto dicha lista.</p>

<ul>
<li>The chase &ndash; The Rock</li>
<li>I don&rsquo;t think now it the best time &ndash; Pirates of the Caribbean &ndash; At world&rsquo;s end</li>
<li>A dark knight &ndash; The dark knight</li>
<li>Flight &ndash; Man of Steel</li>
<li>Comming back around &ndash; How to train your dragon</li>
<li>Spectres in the fog &ndash; The last samurai</li>
<li>The all spark &ndash; Transformers</li>
<li>My name is Lincoln &ndash; The island</li>
<li>War &ndash; Pearl Harbor</li>
<li>Chevaliers de Sangreal &ndash; The Da Vinci Code</li>
<li>Sound the Buggle now &ndash; Spirit, Stallion of the Cimarron</li>
<li>Run Free &ndash; Spirit, Stallion of the Cimarron</li>
<li>The Wheat &ndash; Gladiator</li>
<li>The Battle &ndash; Gladiator</li>
</ul>


<p>Cada uno de estos temas compone la banda sonora de mi vida.</p>

<h2>Crowdfunding</h2>

<p>Algunos os preguntarÃ©is&hellip; bueno Marc, y todo esto cuanto vale? Pues aÃºn estoy
trabajando en ello, pero es bastante dinero. Calculo que alrededor de unos
200.000 euros para ser especÃ­ficos.</p>

<p>No tengo aÃºn muy claro como voy a configurar los niveles de colaboraciÃ³n
(hay distintos mÃ­nimos de aportaciones, y cada uno de ellos te proporciona un
retorno de cierto nivel. En este caso el retorno serÃ¡ reducido para maximizar el
volumen de donaciÃ³n final)</p>

<p>Lo que si tengo claro es el tipo de pÃºblico al que va la iniciativa.</p>

<ul>
<li>Patrocinadores &ndash; Empresas que quieran hacer que esto sea posible. SerÃ¡n los
niveles de patrocinio mÃ¡s altos.</li>
<li>Individuales &ndash; Todo aquel que quiera hacer una donaciÃ³n a la investigaciÃ³n y
quiera que el evento ocurra podrÃ¡ hacerlo mediante dicho evento. A partir de uno
de los niveles de patrocinio, habrÃ¡ entrada gratuita al evento.</li>
<li>Aportaciones &ndash; Fuera del evento crowdfunding tambiÃ©n se aceptarÃ¡n donaciones,
aunque es preferible que todas entren por el evento.</li>
</ul>


<h2>La plataforma</h2>

<p>Finalmente, y despuÃ©s de solucionar un dilema mental que tenÃ­a entre si hacerlo
internacional o local, he decidido ejecutar el evento a nivel espaÃ±ol. Para esto
tratarÃ© de utilizar la plataforma <a href="http://www.verkami.com/">Verkami</a> dado que
tengo muy buenas referencias.</p>

<h2>El porquÃ©</h2>

<p>En realidad, Ãºltimamente estoy hablando mucho de emprendedores y de intentar
todo aquello que crees que deberÃ­as intentar. La idea de hacer eventos me gusta
mucho, de hecho soy organizador de un evento en Barcelona bastante chulo, aunque
local, por el momento.</p>

<p>El hecho tambiÃ©n que me guste la mÃºsica hasta lÃ­mites indecentes hace que quiera
poner toda la carne en el asador, sin preguntarme demasiado el porquÃ© hago todo
esto. Creo ser un mÃºsico frustrado y siempre me quedarÃ¡ el intentar, por todos
los medios posibles e imposibles, cumplir alguno de mis hitos indiscutibles.</p>

<p>El dirigir una orquestra es uno de ellos. Desde hace muchos aÃ±os.</p>

<p>Y como he dicho alguna vez, el mejor consejo que me han dado nunca en mi vida ha
sido &ldquo;No lo intentes&rdquo;, por lo que, haciendo caso omiso a las personas vacÃ­as de
locura, no lo voy a intentar, lo voy a hacer.</p>

<h2>PrÃ³ximos pasos</h2>

<ul>
<li>En unos dÃ­as voy a colgar la iniciativa en Verkami.</li>
<li>Hacer ruido. Mucho ruido. Demostrar que todo es posible.</li>
<li>Buscar organizaciÃ³n o similar para donar todo el dinero ganado.</li>
<li>Trabajar bien el evento y todas las piezas componen organizar un
acontecimiento de estas caracterÃ­sticas.</li>
<li>Encontrar un grupo de gente motivada con la idea que quiera ayudarme una vez
se cierre la iniciativa con resultado positivo.</li>
<li>Seguir trabajando en la idea, hasta el final.</li>
</ul>


<p>Si quieres estar actualizado sobre el evento, puedes seguir-me en
<a href="http://twitter.com/mmoreram">Twitter</a> o suscribirte a mi blog, desde donde voy
a escribir de forma periÃ³dica todas las actualizaciones sobre el evento.</p>

<p>Saludos a todos.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lazy Commands in Symfony]]></title>
    <link href="http://mmoreram.github.io/blog/2015/05/08/lazy-commands-in-symfony/"/>
    <updated>2015-05-08T11:04:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/05/08/lazy-commands-in-symfony</id>
    <content type="html"><![CDATA[<p>Have you ever had this scenario?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>php app/console doctrine:database:drop --force
</span><span class='line'><span class="nv">$ </span>php app/console doctrine:database:create
</span><span class='line'>
</span><span class='line'>    <span class="o">[</span>Doctrine<span class="se">\D</span>BAL<span class="se">\E</span>xception<span class="se">\C</span>onnectionException<span class="o">]</span>
</span><span class='line'>    An exception occured in driver: SQLSTATE<span class="o">[</span>42000<span class="o">]</span> <span class="o">[</span>1049<span class="o">]</span> Unknown database <span class="s1">&#39;mydatabase&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Well, it happens and I will tell you why.</p>

<h2>Command as a Service</h2>

<p>Since Symfony version 2.4 you can define your controllers and commands as
services. This is so useful as long as you need to treat your classes as much
decoupled as possible. You can check some information about how to define them
as services in
<a href="http://symfony.com/doc/current/cookbook/console/commands_as_services.html">Symfony Documentation</a>.</p>

<p>Then, let&rsquo;s figure out that our command is intended to check an entity from your
database. Of course, your command should be as empty as possible, placing all
your business logic inside your service layer (this is not the only strategy, of
course, but there is no strategy where you lace your logic inside your command).</p>

<p>Then, using commands as services, you will have this</p>

<ul>
<li>ObjectManager as a service (or Repository)</li>
<li>Your service, intended to do whatever you need to do, for example, check that
your entities are all enabled. Your ObjectManager or Repository will be injected
here</li>
<li>Your command, intended to work as the simple layer between your cli interface
and your service layer. Your service will be injected here.</li>
</ul>


<p>Given this schema, when we require this command through the DI Container, of
course a new Service instance will be created in order to inject it through the
command constructor, and the object will have to be created as well to be
injected inside the service.</p>

<p>It means create a new connection to the database. Fair enough till now :)</p>

<h2>Commands list</h2>

<p>Let me show you some lines of code. This method is placed in a class called
<code>Application</code> inside the bundle <code>FrameworkBundle</code>. This class is intended to add
the possibility of adding Commands as services in the main Application class of
Command Component.</p>

<p><a href="https://github.com/symfony/symfony/blob/2.7/src/Symfony/Bundle/FrameworkBundle/Console/Application.php">Symfony\Bundle\FrameworkBundle\Console\Application</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">protected</span> <span class="k">function</span> <span class="nf">registerCommands</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="nv">$container</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">kernel</span><span class="o">-&gt;</span><span class="na">getContainer</span><span class="p">();</span>
</span><span class='line'>    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">kernel</span><span class="o">-&gt;</span><span class="na">getBundles</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$bundle</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nv">$bundle</span> <span class="nx">instanceof</span> <span class="nx">Bundle</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$bundle</span><span class="o">-&gt;</span><span class="na">registerCommands</span><span class="p">(</span><span class="nv">$this</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nv">$container</span><span class="o">-&gt;</span><span class="na">hasParameter</span><span class="p">(</span><span class="s1">&#39;console.command.ids&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$container</span><span class="o">-&gt;</span><span class="na">getParameter</span><span class="p">(</span><span class="s1">&#39;console.command.ids&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$id</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$container</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="nv">$id</span><span class="p">));</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Oh, wait&hellip; what?</p>

<p>Register a command means instantiate it! So if we have a command with a service
injected which has an object manager injected&hellip; then we have a problem. If we
don&rsquo;t have the database created we will not be able to create it using the
Doctrine command.</p>

<p><em>~ironic~ Perfect scenario for deployment ~/ironic~</em></p>

<h2>Using Lazy services</h2>

<p>Of course we should find a solution for this scenario, in order to be able to
call this command when is needed.</p>

<p>When we define as lazy a service, this is not instanced when is injected, but
only when is accessed. You can find some information about lazy services in
<a href="http://symfony.com/doc/current/components/dependency_injection/lazy_services.html">Symfony Documentation</a>.</p>

<p>The point here is to define our service intended to work with the model as lazy.
The result will be that when we instance the Command, then a proxy object is
created and injected with all the service information.</p>

<p>Because our command will not be used as long as we don&rsquo;t need it, then the
service will not be instanced and the ObjectManager not created. We will be able
to list all the commands, and finally, call
<code>php app/console doctrine:database:create</code> properly.</p>

<h2>Implementation</h2>

<p>Some tips here&hellip;</p>

<ul>
<li>Why instancing all services when we just need them to be listed? Is it really
necessary? Doing than we are forcing some service to be defined as lazy just
because of it, and this is not and will never be a good practice.</li>
<li>If the command needs to be instanced to be listed, and assuming that this
information <del>should</del> could be cached, then, is it necessary to call the
constructor? We could get the class, build the object using <code>\ReflectionClass</code>
and request all the needed information.</li>
</ul>


<p>I invoke the community for some feedback on that. If this is really a need for
some people, we should do some push (and organize us for an implementation,
maybe) to change this implementation for next Symfony 3 version.</p>

<p>Feedback, feedback :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Montando a Pau Garcia-MilÃ ]]></title>
    <link href="http://mmoreram.github.io/blog/2015/05/07/montando-a-pau-garcia-mila/"/>
    <updated>2015-05-07T02:58:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/05/07/montando-a-pau-garcia-mila</id>
    <content type="html"><![CDATA[<p>Hace apenas unas semanas, en un diario nacional espaÃ±ol, aparecÃ­a un escrito
inquietante, al menos a simple vista, sobre algunos puntos discutibles alrededor
del ya mÃ¡s que conocido emprendedor Pau Garcia-MilÃ .</p>

<p><a href="http://www.eldiario.es/hojaderouter/emprendedores/pau_garcia-mila-emprendimiento-EyeOS-Bananity_0_369213079.html">Post original</a></p>

<p>Para los interesados, decir que el propio Pau respondiÃ³ dÃ­as mÃ¡s tarde en su
blog, respondiendo a ciertas afirmaciones.</p>

<p><a href="http://paugarciamila.com/desmontando-a-pau-garcia-mila/">Respuesta de Pau</a></p>

<p>En dicho escrito, se analizan algunos de los puntos importantes y crÃ­ticos por
los que nuestro protagonista ha pasado durante los Ãºltimos aÃ±os, dejando al
lector la tarea de leer a simple vista un gran elenco de comentarios de algunas
personas cuya opiniÃ³n se les fue requerida, entiendo yo.</p>

<p>Antes de todo decir escuetamente que yo recuerdo a Pau en sus inicios, cuando
empezÃ³ a ser un personaje pÃºblico. AÃ±adir tambiÃ©n que, tras un tiempo teniÃ©ndolo
en mi <em>top of mind</em> como referencia y recordÃ¡ndolo como
<em>simplemente, brillante</em>, y por alguna razÃ³n que no logrÃ© entender durante mucho
tiempo, pasÃ³ a ser mi <em>vende-humos</em> favorito.</p>

<blockquote><p>Ãste no ha hecho nada. Solo habla de ideas. Yo tambiÃ©n tengo muchas ideas!
Mirad! Un percebe con alas! Fundemos una empresa que se llame Engonga
associated y conquistemos el mundo. Ah, no, esperad, que con una idea uno no
tiene ni para empezar&hellip; Nada, vuelvo al mundo real, en mi sofÃ¡ de pensar.</p></blockquote>

<p>Pero gracias a Dios, a veces en la vida te encuentras a grandes personas que te
bautizan de golpe como <em>ex-hater</em>, y te das cuenta que el odio es,
habitualmente, proporcional a la envidia, y quiÃ©n mejor que una persona a la que
envidias para empezar a admirar.</p>

<p>He aquÃ­ mi pequeÃ±o paso hacia la redenciÃ³n relativa. Mi objetivo, la completa
madurez. :)</p>

<h3>Reflexiones</h3>

<p>En este post, y como persona emprendedora que creo ser, aÃ±ado algunas respuestas
a comentarios del post original sin entrar demasiado al detalle.</p>

<blockquote><p>Ha empezado cosas, pero no ha terminado ninguna. Son habilidades distintas.
Creo que es un grandÃ­simo comunicador y tiene Ã©xito con eso, pero como
emprendedor no lo ha demostrado</p></blockquote>

<p>En realidad esta frase es la que mÃ¡s me duele a mi, como emprendedor que soy.
Hace un poco mÃ¡s de un aÃ±o y medio que trabajo en un proyecto, y siento decir
que, por ahora, no he demostrado nada a nadie. Â¿Eso me convierte en menos
emprendedor?</p>

<p>Trabajo un mÃ­nimo de 80 horas semanales en un proyecto de cÃ³digo libre de Ã­ndole
internacional, llevo una comunidad de desarrolladores Web local cuyos eventos
son referenciados en todo el mundo, tengo unos cuantos proyectos personales
tambiÃ©n de cÃ³digo libre utilizados en multitud de empresas reales, y en el
tiempo mÃ¡s libre de mi tiempo libre, soy ponente en eventos alrededor del globo.</p>

<p>Â¿Demostrado? Si se refiere a si he vendido alguna empresa por 20 millones de
euros, pues no&hellip; Â¿Emprendedor? Hombre, pues creo que algo si, Â¿no?</p>

<p>Debo decir con gran aplomo que ningÃºn emprendedor tiene que demostrar nada a
nadie para serlo, y es que la palabra emprendedor, uno, se la gana con el
trabajo y el sudor, no con los Ã©xitos (y menos midiendo los Ã©xitos en cifras
o en rondas de inversiÃ³n).</p>

<p>Emprendedor es el que crea sitios de trabajo, el que crea equipos sanos y
empresas con ideales humanos. Emprendedor es quien no se rinde a pesar de sus
innumerables fracasos. Emprendedor es el que tras un &ldquo;No lo vas a conseguir&rdquo; ve
un &ldquo;Debes conseguirlo&rdquo;.</p>

<p>Emprendedor es quien persigue lo que todo el mundo ha dejado por imposible.</p>

<p>EstÃ¡ claro que Pau es un gran comunicador y tambiÃ©n estÃ¡ claro que ha tenido
Ã©xito con ello, pero seamos realistas y no nos dejemos llevar por la envidia y
el descontrol: Un chico que a los 28 aÃ±os ha tratado de levantar 3 empresas (la
cuarta recientemente) y haya vendido una, cuales fueran las condiciones de dicha
transacciÃ³n y cuya informaciÃ³n no me interesa en absoluto, absolutamente nadie
puede tacharle de no ser emprendedor (evidentemente mencionar sus libros,
charlas y todo el ecosistema que ha creado alrededor).</p>

<p>Yo me quito el sombrero, al menos, por haberlo intentado.</p>

<p>Pero estÃ¡ claro que es mÃ¡s simple y fÃ¡cil entrar en la crÃ­tica destructiva y
sensacionalista. Nos alimenta mucho mÃ¡s el ego interior y nos hace sentir mÃ¡s
fuertes a nosotros, seres iluminados. Pero la realidad es que tras la fachada de
un comunicador como Pau hay, en la mayorÃ­a de los casos, una mente brillante y
un trabajo constante. Otra cosa es tener interÃ©s en conocer este trabajo y
valorarlo como se debe.</p>

<p>Que difÃ­cil es hacer esto.</p>

<blockquote><p>pero hay grandes emprendedores en EspaÃ±a que son menos mediÃ¡ticos. Mi
experiencia me dice que el Ã©xito de un emprendedor es inversamente
proporcional a sus seguidores en Twitter. No suele ser mediÃ¡tico.</p></blockquote>

<p>El nÃºmero de seguidores que tiene una persona en Twitter es directamente
proporcional a varios elementos, como el campo en que esta persona haya decidido
ser emprendedor (no es lo mismo un quÃ­mico que un informÃ¡tico) o el carÃ¡cter
comunicativo que dicha persona tenga en su personalidad (No es lo mismo una
persona expansiva y sociable que una persona itrovertida y tÃ­mida).</p>

<p>Algunos ejemplos rÃ¡pidos.</p>

<ul>
<li>Bill Gates, co-fundador de Microsoft, <strong>21.8 millones</strong> de followers</li>
<li>Steve Wozniak, co-fundador de Apple, <strong>402 mil</strong> followers</li>
<li>Elon Musk, fundador de Tesla y PayPal, <strong>2.06 millones</strong> de followers</li>
<li>Jimmy Wales, fundador de Wikipedia, <strong>110 mil</strong> followers</li>
<li>Charles W. Hull, inventor de la impresora 3D (nada, es posible que solo
revolucione el modelo industrial en los prÃ³ximos aÃ±os)&hellip; <strong>0</strong> followers</li>
<li>Steve Chen, co-fundador de Youtube, <strong>3599</strong> followers</li>
</ul>


<p>PodrÃ­a seguir, pero carece de sentido categorizar a estos emprendedores como
ejemplos de quÃ© es tener poco Ã©xito&hellip; Personas como ellas hacen que la sociedad
avance en campos como la medicina, la tecnologÃ­a o el bienestar.</p>

<p>Evidentemente esto no quita que hay emprendedores de Ã©xito abismal que, por
decisiÃ³n propia, han preferido quedarse en segundo plano en temas sociales. Y
esta es una decisiÃ³n igual de factible, correcta e indiscutible que cualquier
otra.</p>

<blockquote><p>Tenemos que animar con credibilidad. Lo bueno es que nos fijemos en los que ya
han tenido Ã©xito, porque es lo que cuenta: si no, se genera la sensaciÃ³n de
que esto no es serio</p></blockquote>

<p>Comentario propio del que lo tuvo todo muy fÃ¡cil.</p>

<p>Precisamente la gente necesita ver a personas que lo intentan a pesar de que las
cosas van en contra, y aceptar que fallar nos hace aÃºn mÃ¡s humanos. La
credibilidad se demuestra con los caminos que uno hace a lo largo de su vida, la
credibilidad la marca la honestidad y la ley del esfuerzo, sea cual sea el
resultado final.</p>

<p>Adjudicar seriedad al grado de Ã©xito es, a mi parecer, una falta de respeto para
los que aÃºn no hemos conseguido nada, aÃºn lo intentemos con todas nuestras
fuerzas. Y lo que me parece mÃ¡s grave, me parece una falta de respeto
innecesaria, un comentario fuera de lugar y una doctrina tÃ³xica para una
sociedad desanimada y desorientada como es la nuestra.</p>

<p>ReflexiÃ³n, por favor.</p>

<h3>ConclusiÃ³n</h3>

<p>Emprendedor, no emprendedor. Da igual, lo importante para una sociedad es el
esfuerzo. Hable en pÃºblico, tenga seguidores en Twitter o toque la pandereta con
los ojos cerrados y en sol sostenido, son elementos personales, injuzgables mÃ¡s
allÃ¡ de uno mismo, y menos cuando el impacto social es positivo, mires por donde
lo mires.</p>

<p>Repito una frase con la que empezaba mi post dado que encuentro interesante y
reveladora.</p>

<blockquote><p>el odio es, habitualmente, proporcional a la envidia, y quiÃ©n mejor que una
persona a la que envidias para empezar a admirar</p></blockquote>

<p>Mi consejo siempre es el mismo. Que el miedo a intentar cosas no os impida no
hacerlas, y que simplemente os hagan mÃ¡s cautos. No os dejÃ©is llevar por la
mediocridad social a la hora de juzgar a personas que trabajan por su futuro y
sed crÃ­ticos mÃ¡s allÃ¡ de 4 medios de comunicaciÃ³n de intenciones puramente
marketinianas.</p>

<p>Dicho esto, sed felices y volad cometas.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Visithor, testing your routes without pain]]></title>
    <link href="http://mmoreram.github.io/blog/2015/05/04/visithor/"/>
    <updated>2015-05-04T13:11:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/05/04/visithor</id>
    <content type="html"><![CDATA[<p>Do you like testing? I like testing. Well, in fact I like testing once I have
understood how the engine I am using works. Until this moment, everything is a
completely disaster.</p>

<p>And because this learning curve, many of my personal projects have reached an
MVP without any type of testing environment. And sincerely, I don&rsquo;t really like
this scenario.</p>

<p>Many years ago I was thinking about a <strong>simple</strong> and fast tool to test specific
routes, expecting specific HTTP codes and providing an easy environment of
ensuring properly your HTTP layer.</p>

<p>So&hellip; I present you <a href="http://github.com/visithor/visithor">Visithor</a>, a PHP based
library that provides you this functionality, with a simple configuration
definition and a very easy way of installation.</p>

<p>Let&rsquo;s see an example.</p>

<h2>Execute Visithor</h2>

<p>With this lines of code you will download Visithor, ready to be used.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone git@github.com:visithor/visithor.git
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>visithor
</span><span class='line'><span class="err">$</span>
</span><span class='line'><span class="nv">$ </span>build/visithor.phar
</span></code></pre></td></tr></table></div></figure>


<p>You can download it as a global executable</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone git@github.com:visithor/visithor.git
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>visithor
</span><span class='line'><span class="nv">$ </span>cp build/visithor.phar /usr/local/bin/visithor
</span><span class='line'><span class="err">$</span>
</span><span class='line'><span class="nv">$ </span>visithor
</span></code></pre></td></tr></table></div></figure>


<h2>Creating your configuration</h2>

<p>As easy as it seems. This is a random configuration file with a random set of
urls. If your <code>visithor.yml</code> file is placed in the same folder than you are,
then you don&rsquo;t have to specify its location. Otherwise, please use the
<em>[&mdash;config|-c]</em> option.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># This value can be a simple HTTP Code or an array of acceptable HTTP Codes</span>
</span><span class='line'>    <span class="c1"># - 200</span>
</span><span class='line'>    <span class="c1"># - [200, 301]</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="l-Scalar-Plain">http_codes</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">200</span><span class="p-Indicator">,</span> <span class="nv">302</span><span class="p-Indicator">]</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">urls</span><span class="p-Indicator">:</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># By default, is there is no specified HTTP Code, then default one is used</span>
</span><span class='line'>    <span class="c1"># as the valid one</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://google.es</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://elcodi.io</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># There are some other formats available as well</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="p-Indicator">[</span><span class="nv">http</span><span class="p-Indicator">:</span><span class="nv">//shopery.com</span><span class="p-Indicator">,</span> <span class="nv">200</span><span class="p-Indicator">]</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="p-Indicator">[</span><span class="nv">http</span><span class="p-Indicator">:</span><span class="nv">//mmoreram.com</span><span class="p-Indicator">,</span> <span class="p-Indicator">[</span><span class="nv">200</span><span class="p-Indicator">,</span> <span class="nv">302</span><span class="p-Indicator">]]</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="p-Indicator">[</span><span class="nv">http</span><span class="p-Indicator">:</span><span class="nv">//nonexistingurl.com</span><span class="p-Indicator">,</span> <span class="p-Indicator">[</span><span class="nv">200</span><span class="p-Indicator">]]</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this case, the execution result is <em>0</em></p>

<h2>Executing Visithor</h2>

<p>Once you have it installed and you have a configuration file, let&rsquo;s see what
happens!</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">$ visithor visithor:go</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">Visithor by Marc Morera and contributors.</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">Configuration read from /var/www/my/project</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">OK [200] http://google.es</span>
</span><span class='line'><span class="l-Scalar-Plain">OK [200] http://elcodi.io</span>
</span><span class='line'><span class="l-Scalar-Plain">OK [200] http://shopery.com</span>
</span><span class='line'><span class="l-Scalar-Plain">OK [200] http://mmoreram.com</span>
</span><span class='line'><span class="l-Scalar-Plain">KO [404] http://nonexistingurl.com</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">Time</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1002 ms, Memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">15.5Mb</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, we have an error. We expect a <code>200</code> code when we call
<code>http://nonexistingurl.com</code> but the real response is <code>404</code>, so it fails. Then,
the execution result is <em>1</em>.</p>

<h2>Integrations</h2>

<p>You can integrate Visithor with your Symfony projects right now. I expect some
other integrations will be available soon.</p>

<ul>
<li><a href="http://github.com/Visithor/VisithorBundle">VisithorBundle</a></li>
</ul>


<p>If you use this bundle, then you will be able to define your routes not with the
final path but with the route name and a bunch of parameters, as it is shown
here.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># This value can be a simple HTTP Code or an array of acceptable HTTP Codes</span>
</span><span class='line'>    <span class="c1"># - 200</span>
</span><span class='line'>    <span class="c1"># - [200, 301]</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="l-Scalar-Plain">http_codes</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">200</span><span class="p-Indicator">,</span> <span class="nv">302</span><span class="p-Indicator">]</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">urls</span><span class="p-Indicator">:</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="c1"># This Bundle adds some extra formats</span>
</span><span class='line'>    <span class="c1">#</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="p-Indicator">[</span><span class="nv">store_homepage</span><span class="p-Indicator">,</span> <span class="nv">200</span><span class="p-Indicator">]</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="p-Indicator">[[</span><span class="nv">store_category_products_list</span><span class="p-Indicator">,</span> <span class="p-Indicator">{</span><span class="s">&#39;slug&#39;</span><span class="p-Indicator">:</span> <span class="s">&#39;women-shirts&#39;</span><span class="p-Indicator">,</span> <span class="s">&#39;id&#39;</span><span class="p-Indicator">:</span> <span class="nv">1</span><span class="p-Indicator">}],</span> <span class="nv">200</span><span class="p-Indicator">]</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="p-Indicator">[[</span><span class="nv">store_category_products_list</span><span class="p-Indicator">,</span> <span class="p-Indicator">{</span><span class="s">&#39;slug&#39;</span><span class="p-Indicator">:</span> <span class="s">&#39;another-name&#39;</span><span class="p-Indicator">,</span> <span class="s">&#39;id&#39;</span><span class="p-Indicator">:</span> <span class="nv">1</span><span class="p-Indicator">}],</span> <span class="nv">302</span><span class="p-Indicator">]</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="p-Indicator">[[</span><span class="nv">store_homepage</span><span class="p-Indicator">,</span> <span class="p-Indicator">{</span><span class="nv">_locale</span><span class="p-Indicator">:</span> <span class="nv">es</span><span class="p-Indicator">}]]</span>
</span></code></pre></td></tr></table></div></figure>


<p>This project is being so useful for me, I expect it will be for you as well :)</p>

<h2>Travis</h2>

<p>Of course, you can add Visithor in your travis tests suite. You can use the
[&mdash;format|-f] option to change the format and use <em>dots</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">script</span><span class="p-Indicator">:</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">bin/behat -fprogress --tags=&quot;~javascript&quot;</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">bin/phpunit -c app</span>
</span><span class='line'>    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">bin/visithor --format=dots visithor:go</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Behat and data-test]]></title>
    <link href="http://mmoreram.github.io/blog/2015/04/25/behat-and-data-test/"/>
    <updated>2015-04-25T16:31:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/04/25/behat-and-data-test</id>
    <content type="html"><![CDATA[<p>Tests should be as robust as possible.</p>

<p>I think you will agree with me with that phrase. If your tests are too coupled
with your implementation, a simple modification of your code will need the
modification of your tests, and that&rsquo;s so annoying, right?</p>

<p>I&rsquo;ve using Behat for the last months in my projects, and as soon as you dominate
the tool it becomes really useful to make sure that any future refactoring or
change will break these user stories you have already defined and tested.</p>

<p>So, thinking about coupling I saw this method in Behat implementation.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * Presses button with specified id|name|title|alt|value.</span>
</span><span class='line'><span class="sd"> *</span>
</span><span class='line'><span class="sd"> * @When /^(?:|I )press &quot;(?P&lt;button&gt;(?:[^&quot;]|\\&quot;)*)&quot;$/</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">pressButton</span><span class="p">(</span><span class="nv">$button</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">//</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>What do you think? Do you think that this method helps people to really decouple
the tests from their implementation? I don&rsquo;t really think so&hellip; Let me explain.</p>

<h3>Design v Test</h3>

<p>My question is&hellip; should the frontend of your website be aware of the how your
Behat tests are built? In my opinion, <strong>nope</strong>.</p>

<p>Your tests should live in a simple layout on top of your application, emulating
some cases and ensuring that your users will be able to do what they should be
able to.</p>

<p>Said this, you cannot build your tests depending on final implementation. So,
whats the problem there?</p>

<h3>HTML Properties</h3>

<p>Dear backend. Between you and me&hellip; we have nothing to do with some html
properties, and you know that&hellip; This is the frontend world and we have nothing
to say about that :)</p>

<p>So why referring to html property <code>id</code> in your Behat cases? It has no sense
indeed. You will need to change <strong>all</strong> your tests every time your frontend
says&hellip; <em>refactoring time!!</em>, and we have no enough time for this, right?</p>

<p>So&hellip; first property strikethrough.</p>

<h3>Translations</h3>

<p>Dear backend (again, yes). Between you and me&hellip; we have neither nothing to do
with translations, and we both know as well that translations is something
really changeable (that means evolving&hellip; so yes, that are good news indeed), so
how about coupling your fantastic tests to translations?</p>

<p>How do you really know that your submission button copy will be always <code>send</code>?
What if someone thinks that is better <code>submit</code>? The point is that you <strong>don&rsquo;t</strong>
know that, and you will never do.</p>

<p>If you don&rsquo;t want to do that, please, don&rsquo;t use <code>title</code>, <code>alt</code> nor <code>value</code>. All
these html properties are very used to changing if you use them properly, so if
you have your site in several countries with some modifications, you will not be
able to reuse any scenario.</p>

<p>Bad choice again.</p>

<h3>Symfony Forms</h3>

<p>We still have the <code>name</code> property, a very important property for forms and
references inside your DOM. In fact, too much important to be an starting point
for your test cases.</p>

<p>For example, you can fill a value in a Symfony Form input, but you know what?
Symfony Forms define themselves how their forms are named, in order to know how
to build them again after submitting them.</p>

<p>If you use <code>name</code> property, and for example you have different teams for
developing your applications and for testing them, you will add an extra and
useless coupling layer between them. This means more <em>points of failure</em> and, at
the end, less agility.</p>

<p>Not valid.</p>

<h3>So what?</h3>

<p>Well, this is a <em>problem</em> really easy to solve. Have you ever meet the property
<code>data-test</code>? You can build any property starting with <code>data-</code> and will be okay.
So, in that case you can safely reference your elements using it.</p>

<ul>
<li>Your front-ends have nothing to do with it. They will see <code>data-test</code> and will
know that they belong to the testing layer. Then, they will ignore it, and even
if they decide to refactor a page, they will preserve this property (if they
can and want, of course) and your tests will not have any reason to expire.</li>
<li>Your tests will have nothing to do with translation, product people and other
tactical nor strategical changes.</li>
<li>People of your team will now have a unique way of referencing visible elements
of your application.</li>
</ul>


<p>That&rsquo;s so nice!</p>

<h3>Implementation</h3>

<p>Well, after this analysis, I propose to add <code>data-test</code> in all pre-defined
selectors in order to allow people to uncouple from implementation.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * Presses button with specified id|name|title|alt|value|data-test.</span>
</span><span class='line'><span class="sd"> *</span>
</span><span class='line'><span class="sd"> * @When /^(?:|I )press &quot;(?P&lt;button&gt;(?:[^&quot;]|\\&quot;)*)&quot;$/</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">pressButton</span><span class="p">(</span><span class="nv">$button</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">//</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Please, I would like to have some feedback, specially if you are used to working
with Behat or any kind of Behavioral Testing Tool.</p>

<p>Thanks and enjoy your day!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Reflexiones de un pequeÃ±o emprendedor]]></title>
    <link href="http://mmoreram.github.io/blog/2015/04/05/reflexiones-de-un-pequeno-emprendedor/"/>
    <updated>2015-04-05T01:58:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2015/04/05/reflexiones-de-un-pequeno-emprendedor</id>
    <content type="html"><![CDATA[<p>Ya hace un poco mÃ¡s de un aÃ±o que estoy a bordo de este proyecto llamado Elcodi.
Para los que no conozcÃ¡is el proyecto, solo unas simples pistas&hellip;</p>

<ul>
<li>E-commerce</li>
<li><a href="https.//symfony.com">Symfony</a></li>
<li><a href="https://github.com/elcodi/elcodi">Elcodi</a></li>
</ul>


<p>Hace bastantes semanas que tenÃ­a ganas de formular una entrada al blog de
Ã©ste Ã­ndole. Normalmente intento hacer mis posts en inglÃ©s, pero me pareciÃ³
adecuado hacer Ã©ste en espaÃ±ol, dado que lo hago desde una perspectiva mÃ¡s de
emprendedor que no de tÃ©cnico.</p>

<blockquote><p>Debo decir brevemente que no me gusta la palabra &ldquo;emprendedor&rdquo;. Durante los
Ãºltimos aÃ±os se le ha dado un significado demasiado Trending y se le ha
asociado a figuras de visibilidad pÃºblica. Desde mi punto de vista,
emprendedor es aquel que se desvive por su trabajo, sea cual sea, y que lo
entiende como una forma de vida. UtilizarÃ© esta palabra desde esta perspectiva</p></blockquote>

<p>Os quiero contar de forma bastante breve lo que, despuÃ©s de Ã©ste tiempo,
considero son algunos puntos importantes de un emprendedor.
Considerando que soy una persona formada de forma pura en el mundo tÃ©cnico y que
he experimentado una transiciÃ³n un poco brusca hacia el mundo de la
emprendedurÃ­a empresarial, quiero dejar claro que estos son mis puntos de vista
dada mi trayectoria, por lo que es probable que algunos no sean mundialmente
compartidos por todos.</p>

<h3>La Idea</h3>

<p>Tengo la sensaciÃ³n que se le asigna demasiado valor a la idea. Como se suele
decir, la idea no vale <strong>nada</strong>. Una semilla tal vez, nada mÃ¡s. El autÃ©ntico valor
reside en considerar Ã©sta misma idea importante durante el tiempo adecuado. El
mÃ©rito estÃ¡ en mantener la expectativa y la motivaciÃ³n en su punto mÃ¡s Ã¡lgido lo
suficiente como para que la ejecuciÃ³n tome la mÃ­nima forma como para que sea
algo real.</p>

<p>Es en este punto es donde te das cuenta que lo mÃ¡s fÃ¡cil en realidad fue tener
dicha idea, y que lo mÃ¡s cÃ³modo hubiera sido dejar de lado la motivaciÃ³n para
hacer algo mÃ¡s significativo a corto plazo.</p>

<p>El autÃ©ntico emprendedor entiende de raÃ­z que dicho esfuerzo, con su parte
proporcional y proporcionada de suerte, ayuda y cafÃ©, siempre acaba siendo mÃ¡s
rentable para todo el mundo a largo plazo.</p>

<h3>El Desarrollo</h3>

<p>Todo proceso que te lleva de la mano de Ã©sta idea amorfa hasta la definiciÃ³n y
ejecuciÃ³n de la misma requiere un esfuerzo que, en la mayorÃ­a de los casos, te
aÃ­sla de forma inconsciente de todo lo demÃ¡s.</p>

<blockquote><p>Quien dice emprendedor, dice luchador
Luchador cuya soledad le invade en su lucha
Y en medio del silencio oye su respiraciÃ³n
Y entiende su existencia</p></blockquote>

<p>Es un gran ejercicio de descubrimiento personal. Te das cuenta de lo que puedes,
de los que sabes y de lo que eres capaz. Y cuando crees que no puedes saber mÃ¡s,
te das cuenta que apenas sabes nada. Aprendes a aprender mientras aprendes a
desaprender.</p>

<p>Hasta aquÃ­ un intento descarado y fracasado de poesÃ­a. Ahora vuelvo a la simple
y terrenal prosa, mÃ¡s digna de mi focalizado potencial&hellip;</p>

<p>Ha sido el aÃ±o mÃ¡s duro y a la vez delicioso de mi carrera profesional. He
aprendido a lidiar con mentes completamente distintas a la mÃ­a, y esto me ha
dado cierta capacidad de anÃ¡lisis teniendo mÃºltiples puntos de vista, muy
necesario para cualquiera con alguna aspiraciÃ³n empresarial.</p>

<p>Debo decir que a dÃ­a de hoy sigo sin entender muchas cosas, algo que me hace
seguir siendo lo suficiente ingenuo como para estar demasiado ilusionado por
todo.</p>

<p>De todas formas, el camino sigue, y espero poder seguir teniendo este anÃ¡lisis
absolutamente positivo aÃ±o tras aÃ±o&hellip; significarÃ¡ que seguirÃ© en mi lucha por
buscar algo realmente grande, aÃºn habiÃ©ndolo encontrado.</p>

<h3>Las Ganas</h3>

<p>Y en Ã©ste camino, debo reconocer que el concepto <em>ganas</em>, mundialmente
conocido por <em>motivaciÃ³n</em>, suele experimentar un movimiento sinusoidal mÃ¡s
tÃ­pico de una montaÃ±a rusa del siglo XXI.</p>

<p>Mi Ãºnico apunte sobre este tema, y es algo que yo he llegado a aprender con el
tiempo, es que una buena tÃ©cnica para poder sobrevivir a todo esto es teniendo
en cuenta que tu cabeza no tiene siempre la razÃ³n. Me refiero a que hay dÃ­as en
los que los pensamientos negativos parecen la Ãºnica materia generada por tu
astuto cerebro.</p>

<p>Bien, ignÃ³ralo.</p>

<p>Â¿DÃ­as de estos en que, literalmente lo ves todo negro? Bien, quÃ©date en
casa, tÃ³mate un respiro y descansa. Te darÃ¡s cuenta que ignorando estos
pensamientos darÃ¡s paso de nuevo a otros mejores. Seguro que el dÃ­a siguiente
puedes seguir como si nada.</p>

<p>Debo decir que a mi me funciona. Mis ganas suelen regenerarse despuÃ©s de un alto
desgaste debido a una frenÃ©tica entrega o a una Ã©poca difÃ­cil.</p>

<h3>El Equipo</h3>

<p>Y a todo esto hay que aÃ±adirle el ingrediente mÃ¡s importante.</p>

<p>El equipo.</p>

<p>De manual. Esta frase suele salir de forma prefabricada de la boca de cualquier
persona que quiera ser algo trending. De todas formas, siempre he pensado que
habÃ­a otra forma de hacer las cosas que se saliera un poco de la tradicional a
la que nos tienen acostumbrados.</p>

<p>Debo decir que soy de ideas fuertes, y desde que salÃ­ de la carrera y durante
mi <em>corta</em> trayectoria profesional me he cruzado con lÃ­deres y con jefes. Debo
aÃ±adir de forma categÃ³rica que hubiera seguido a los lÃ­deres hasta los confines
del fracaso, mientras que no hubiera dedicado un solo segundo a buscar el Ã©xito
al lado de ningÃºn jefe.</p>

<p>Y es que los lÃ­deres hacen girar el mundo. O dicho mejor, los lÃ­deres hacen que
todos hagamos girar el mundo de una forma optimista y valiente.</p>

<p>Dicho esto, y tras haberme cruzado con un poco de todo, decidÃ­ que era hora de
poner a prueba mis teorÃ­as. El mejor equipo hace la mejor empresa, y para que
sea asÃ­, la mejor empresa debe tener el mejor equipo. Y debo reconocer que, si
de por sÃ­ no es nada fÃ¡cil buscar gente para un equipo potente, menos lo es si
tienes en cuenta ciertos parÃ¡metros de convivencia, motivaciÃ³n y encaje.</p>

<p>Con el tiempo me he dado cuenta que algo merece gran cantidad de mi fuerza vital
y esfuerzo es buscar un equipo con el que pasar las horas disfrutando de mi
trabajo. Ãste equipo serÃ¡ tu mano derecha y tu mano izquierda. SerÃ¡ tu apoyo en
los mejores y peores momentos, y serÃ¡ tu mayor crÃ­tico cuando necesites de una
voz sincera y dura.</p>

<p>Mi equipo.</p>

<p>El mejor equipo del mundo.</p>

<h3>ConclusiÃ³n</h3>

<p>Como podÃ©is ver, y termino, Elcodi es un proyecto sano. Debo reconocer que estoy
abrumado por el equipo humano que tenemos en la empresa. Nuestra mÃ¡xima
prioridad es que en el dÃ­a a dÃ­a del equipo sea lo mÃ¡s agradable posible, y que
el trabajo se convierta en algo realmente fascinante.</p>

<p>Por mi parte estoy satisfecho por todo, con perspectivas de incalculable valor y
rodeado de, literalmente, los mejores compaÃ±eros de viaje que uno podrÃ­a tener.</p>

<p>Mucha suerte y mucha fuerza a todos los que habÃ©is decidido que el camino mÃ¡s
largo y duro es el que mejor encaja en vuestra vida. Os mando mi energÃ­a y mis
mayores deseos de Ã©xito.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PDD Manifesto]]></title>
    <link href="http://mmoreram.github.io/blog/2015/01/10/pdd-manifesto/"/>
    <updated>2015-01-10T18:40:00+01:00</updated>
    <id>http://mmoreram.github.io/blog/2015/01/10/pdd-manifesto</id>
    <content type="html"><![CDATA[<p>Hi everyone.</p>

<p>I&rsquo;ve been talking about PDD for a while. Pragmatism-Driven Development, a
methodology that takes in account the development environment and the
circumstances before of deciding the tools and the architectural decisions of
your projects.</p>

<p><a href="http://mmoreram.com/blog/2014/10/26/pdd-pragmatic-driven-development-english/">Pragmatic Driver Development</a></p>

<p>Some people asked me for the manifesto. And because I think that some people
will appreciate another way of doing things more realistic, I started the first
draft of that manifesto some time ago.</p>

<p>After discussions with the ecosystem where I work, finally, I can release the
first version of the manifesto.</p>

<p>These are just some ideas, not a dogma, so please, don&rsquo;t use them as the only
way of doing things, making the same mistake again and again.</p>

<p>I will appreciate as well your constructive comments, so the real objective of
that kind of things are, indeed, to make people more comfortable with their
projects.</p>

<p>The more useful projects, the more knowledge shared, the more fun for everyone.</p>

<p>Be happy!</p>

<h2>PDD Manifesto</h2>

<h3>Good practices</h3>

<ul>
<li>All good practice is only good if it is.</li>
<li>A good practice is good, indeed, if the executor knows it enough.</li>
<li>Otherwise, a good practice becomes always a bad practice; Ipso Facto.</li>
</ul>


<h3>Bad practices</h3>

<ul>
<li>All bad practice can be accepted, if, and only if, is well known by the executor.</li>
<li>Knowing them means to have a strict control of your current bad practices.</li>
<li>The absence of this control turns any bad practice in a poorly executed project.</li>
</ul>


<h3>Analyzing</h3>

<ul>
<li>Every project must be analyzed according to needs and own tools.</li>
<li>Accepting that these needs and tools are static is accepting their failure.</li>
<li>Starting a project destined to fail is the worst practice of all.</li>
</ul>


<h3>Evolving</h3>

<ul>
<li>These needs can change along the time, so the tools have to change as well.</li>
<li>Internal and staff training is essential for the evolution of a team, and therefore a project.</li>
<li>All components of such team must evolve to self-acceptance and practice of good practices.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SymfonyWalk - c'est fini]]></title>
    <link href="http://mmoreram.github.io/blog/2014/11/25/symfony-walk-ends/"/>
    <updated>2014-11-25T12:13:00+01:00</updated>
    <id>http://mmoreram.github.io/blog/2014/11/25/symfony-walk-ends</id>
    <content type="html"><![CDATA[<p>90Km walked in 3 days. And it&rsquo;s over.</p>

<p>I&rsquo;ve been walking through amazing and gorgeous places during the last 3 days. I
had in mind going to Madrid, but I&rsquo;ve had two important problems.</p>

<ul>
<li>My feet. This is one of my problems. My feet. What&rsquo;s wrong with you?!</li>
<li>The next section was 42km, through the mountain and with any place where to
sleep. No hotels, no hostels, no nice people offering her house. It should not
be a problem, but the real problem has one single name. -6 degrees at night. I
cannot expose myself for sleeping on the street with that cold. All next
sections are like that, after 30-40km walking, nowhere to sleep.</li>
</ul>


<p>I feel disappointed with myself. I had so many expectations I could do that, but
I cannot put myself in danger 1 week before one of my most important moments on
my entirely professional life, to be a speaker in the SymfonyCon, in Madrid. My
fault.</p>

<p>But things happen. And what I wanted to demonstrate to myself is that I can do
that. Yes, sure, with more or less preparation&hellip; but I can do that. Because the
most difficult part of this things is trying them. And then, once tried, you can
fail. Lot of times. You will fail. Even if you don&rsquo;t expect that, you will fail.
But failing is just the beginning of success.</p>

<p>I will stay here, in the middle of nothing, since the SymfonyCon starts. Resting
and enjoying something different than Barcelona. The real world.</p>

<p>I want to thank all the people around the world that has encouraged me on this
event. I&rsquo;ll try again soon. Once and again till I achieve my goal. And once
achieved, I will go on with another goal. Because this is life, my friends, goal
after goal.</p>

<p>Looking forward to see you all in Madrid, this is going to be a great great
event.</p>

<p>PD: Ryan, my friend, I will also take a plane XD</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SymfonyWalk - Sleeping bag]]></title>
    <link href="http://mmoreram.github.io/blog/2014/11/07/symfonywalk-sleeping-bag/"/>
    <updated>2014-11-07T18:51:00+01:00</updated>
    <id>http://mmoreram.github.io/blog/2014/11/07/symfonywalk-sleeping-bag</id>
    <content type="html"><![CDATA[<p>I expected it would be much easier. Indeed, it should be easier, but once again,
the effort on something is just the beginning of something simply bigger called
&ldquo;The plan&rdquo;.</p>

<p>The problem is that I thought if would be much simple to sleep from Zaragoza to
Madrid.</p>

<p>It is not. Damn!</p>

<p>So this is why I will have to sleep in a sleeping bag 9 days. I don&rsquo;t exactly
know where will I be able to clean myself, or to eat something, or sleep. In
fact this is what OpenSource is. All OpenSource developers are Walkers in a
world without hostels, but nice people.</p>

<p>I expect I will find some contributors around the adventure.</p>

<ul>
<li>Food Pull Requests?</li>
<li>Bed Pull Requests?</li>
<li>Water Pull Requests?</li>
</ul>


<p>7 days to go. I am ready. Am I?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PDD, Pragmatic Driven Development, English version]]></title>
    <link href="http://mmoreram.github.io/blog/2014/10/26/pdd-pragmatic-driven-development-english/"/>
    <updated>2014-10-26T19:51:00+01:00</updated>
    <id>http://mmoreram.github.io/blog/2014/10/26/pdd-pragmatic-driven-development-english</id>
    <content type="html"><![CDATA[<p>This post is just a translation of one of my previous posts, written in Spanish,
for Spaniard people. I just wanted to translate it and to propose my idea to the
entirely world, even knowing not everyone will be agree with my point of view.</p>

<p>You will find the original one <a href="http://mmoreram.com/blog/2014/10/06/pdd/">here</a></p>

<p>There is a trend, in my opinion, extremely annoying about how we should work in
any technical project. We have gone from being a voiceless sector to, for a
while, a small egomaniac movement with categorical thoughts, making some
monothematic readings so boring for the reader, just because these topics
iterated for the umpteenth time with a very theoretical speech, non practical at
all, far from the real life.</p>

<p>And that&rsquo;s what we all need, a great doses of reality. Because reality is
practical, not logical.</p>

<p>From my point of view, and given my small experience, I think this movement has
to be eradicated to make way for a new movement of thought, maybe
circumstantially called PDD, Pragmatic Driven Development (You know&hellip; I can
also be so witty assigning new names and adding some cool tags to my Linkedin
profile&hellip;). And the truth is that I am so tired seeing that some people is
still telling me how I should do my job, what practices should I follow to make
it &ldquo;the right way&rdquo; and what guidelines I should take to not being far from the
real truth.</p>

<p>The real truth does not exist, or at least should not. Every single speech
should have an objective part, based in good practices, but also should have a
subjective part, relative to the real circumstances and taking care about the
needs of the project. So, this is not seemed to be understood by some people.
Seems that, like an outdated political movement, The ego blinds some people to
understand so much certainty (must be that we are too used to being treated like
sheeps&hellip; BeEeEe BeEeEe).</p>

<p>This is why I refuse to listen to such modernistic stupidity without solid
arguments. I refuse to be near this hype, created from this people that don&rsquo;t
have any other way to stand out than selling their unique thought like it was
the entrance of the heaven of wisdom. We have reached an illness point.</p>

<p>I personally always demand my attendees, or just the people that talk with me,
to have an owning point of view, to treat my single one just like another point
of view, even if they feel it is not correct, it is different or even distant
from theirs, and to use it as a starting point of constructive discussion.</p>

<p>Important, I&rsquo;m not telling that I disagree all these techniques, I&rsquo;m not telling
that all this architectural knowledge is not useful, I&rsquo;m not telling that
applying a great methodology is useless&hellip; I strongly think that all of them,
born inside great minds and actually tested with great results, are very useful
and really makes us better as developers, giving us more resources to work and
making us better able to do our job successfully. I have to tell also that since
I am actually practicing lot of them in my projects, like TDD, BDD and DDD, I
feel better and more comfortable. I say thanks for that! What I am actually
saying is that we are developers, not this kind of stupid people without
capacity analysis. At the moment we lose this capacity, we lose our value.</p>

<ul>
<li>Hey, dude! I am actually working on that project! Do you like it?</li>
<li>Well, I expect you are doing Hexagonal Architecture&hellip;</li>
<li>Hmmm&hellip; I don&rsquo;t really need it&hellip;</li>
<li>You don&rsquo;t need it? Sure you do!</li>
<li>In fact, not.</li>
<li>You are wrong!</li>
<li>Ok.</li>
</ul>


<p>It is all about thinking things, and make sure about what we really need at each
point, just ignoring everyone telling you, categorically, the way you need to do
your job.</p>

<p>I truly hope all this pantomime to be ended soon. I hope as well that one day we
will be able to work all together as a community or a team, this is what we
really need, keeping in mind what really matters: learning, teaching and doing
great projects, no matter the framework, the language even the architecture.</p>

<p>Have a really nice week, and enjoy your work :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Symfony Walk, the Conference section]]></title>
    <link href="http://mmoreram.github.io/blog/2014/10/15/symfony-walk-symfony-con-section/"/>
    <updated>2014-10-15T11:48:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2014/10/15/symfony-walk-symfony-con-section</id>
    <content type="html"><![CDATA[<p>The day is getting closer. I am really exited about the idea of the <a href="http://mmoreram.com/blog/2014/08/07/symfony-walk-zaragoza-madrid/">Symfony Walk</a>.</p>

<p>As you may know, the walk will consists in 12 days (10 walking, 2 resting, 1
resting day added as announced for my health), from Zaragoza to Madrid, so today
I want to announce formally the last section of the Walk, dedicated to the
people in the conference and to the entirely Symfony Community.</p>

<p>I want to open source the last part of my experience. I&rsquo;d like everyone excited
with the idea to walk beside me for the last 38km.</p>

<p>That&rsquo;s the plan:</p>

<p><img src="http://mmoreram.github.io/images/zaragoza-madrid-last-section.png" title="[Zaragoza Madrid Last Section [Zaragoza Madrid Las Section]]" ></p>

<ul>
<li>From &ndash; 26 Nov at 10.00 &ndash; <a href="https://www.google.es/maps/place/Hotel+Azuqueca/@40.574603,-3.260397,17z/data=!3m1!4b1!4m2!3m1!1s0xd424d58faf1da8d:0x4d83f8902082a9e8?hl=ca">Hotel Azuqueca, Azuqueca de Henares, Guadalajara</a></li>
<li>To &ndash; 26 November at 19.00 &ndash; <a href="https://www.google.es/maps/search/hotel+auditorium/@40.448706,-3.5586655,17z/data=!3m2!4b1!5s0xd4230487e9da459:0xa7e56b7dca610362?hl=ca">Hotel Auditorium, Madrid</a></li>
<li>Good shoes, important!</li>
<li>We could talk about symfony stuff and some interesting topics.</li>
</ul>


<p>Excited about that? Good! Once in Madrid, a cold beer will be our best friend&hellip;
ever!</p>

<p>Let me know if you want to join us through the
<a href="https://www.eventbrite.com/e/symfony-walk-symfonycon-section-tickets-13728858385">Eventbrite event</a>,
so we can organize based on the total number of people. You can also contact me
through my email, <a href="&#109;&#x61;&#x69;&#x6c;&#116;&#111;&#58;&#x79;&#x75;&#x68;&#117;&#64;&#x6d;&#109;&#x6f;&#114;&#101;&#114;&#x61;&#109;&#x2e;&#x63;&#x6f;&#109;&#x2e;">&#x79;&#117;&#x68;&#x75;&#x40;&#x6d;&#x6d;&#111;&#114;&#x65;&#114;&#x61;&#x6d;&#x2e;&#99;&#111;&#109;&#46;</a></p>

<p>Looking forward to meet you there, it is going to be amazing!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PDD, Pragmatic Driven Development]]></title>
    <link href="http://mmoreram.github.io/blog/2014/10/06/pdd/"/>
    <updated>2014-10-06T12:00:00+02:00</updated>
    <id>http://mmoreram.github.io/blog/2014/10/06/pdd</id>
    <content type="html"><![CDATA[<p>Hay una tendencia, a mi parecer, extremadamente molesta sobre como se tiene que
trabajar en cualquier proyecto tÃ©cnico. Hemos pasado de ser un sector con poca
voz, a ser, desde hace un tiempo, un pequeÃ±o movimiento egÃ³latra de pensamientos
categÃ³ricos que hacen que segÃºn quÃ© lecturas monotemÃ¡ticas aburran al lector con
tÃ³picos iterados por enÃ©sima vez y con un discurso teÃ³rico, nada prÃ¡ctico, muy
lejos de la realidad.</p>

<p>Y esto es lo que necesitamos, una buena dosis de realidad. Porque la realidad es
prÃ¡ctica, no teÃ³rica.</p>

<p>Desde mi punto de vista, y segÃºn la lectura que puedo tener segÃºn mi pequeÃ±a
experiencia, creo que este movimiento debe terminar para dar paso a lo que
circunstancialmente podrÃ­a referirme como PDD, Pragmatic Driven Development
(Siguiendo con las directrices&hellip; yo tambiÃ©n puedo ser muy molÃ³n con nombres que
quedan de lujo en mi currÃ­culum). Y es que estoy cansado de ver como la gente me
dice como tengo que enfocar mi proyecto, que prÃ¡cticas debo seguir para hacerlo
&ldquo;bien&rdquo; y que directrices debo tomar para no estar lejos de la verdad absoluta.</p>

<p>La verdad absoluta no existe, o no deberÃ­a existir. Cualquier discurso deberÃ­a
tener una parte objetiva, basado en las buenas prÃ¡cticas, pero tambiÃ©n deberÃ­a
tener una parte subjetiva, relativa a las circunstancias reales y propias del
proyecto. Pues parece ser que no se entiende. Parece ser que, y como si un
movimiento polÃ­tico desfasado y arcaico se tratara, el Ego ciega demasiado como
para poder entender tanta obviedad junta (serÃ¡ lo acostumbrados que nos tienen
a ser tratados como borregos).</p>

<p>Es por esto que personalmente me niego a escuchar mÃ¡s estupidez modernista sin
argumentos sÃ³lidos. Me niego a ser vÃ­ctima de <em>hype</em> por parte de personas que no
tienen mÃ¡s formas de destacar que vender su pensamiento Ãºnico como si de la
entrada al cielo de la sabidurÃ­a se tratara. Hemos llegado a un punto enfermizo.</p>

<p>Personalmente siempre exijo que la gente que me escucha tenga un pensamiento
propio, que trate mi opiniÃ³n como otro punto de vista, aunque sea incorrecto,
distinto o distante, y que sirva como punto de soporte para dar aÃºn mÃ¡s robustez
al argumento que pueda darle uno a un tema especÃ­fico, dado un punto de partida
y un objetivo final.</p>

<p><strong>Que conste, no digo que las buenas prÃ¡cticas no importen, no digo que tener
conocimientos sobre arquitectura no importe, no digo que aplicar una buena
metodologÃ­a no importe&hellip;</strong> Creo que todas estas prÃ¡cticas nacidas en grandes
mentes y probadas con grandes resultados son herramientas que nos hace mejores,
con mÃ¡s recursos y mÃ¡s capaces de trabajar problemas de forma satisfactoria.
Debo aÃ±adir que soy practicante de muchas de ellas en el punto en que las
necesito, y doy gracias a ello. Me hace mejor profesional. Lo que digo es que
somos desarrolladores, no gente estÃºpida sin capacidad de anÃ¡lisis. En el
momento que perdemos este anÃ¡lisis, perdemos completamente nuestro valor.</p>

<ul>
<li>Estoy haciendo este proyecto, Â¿te gusta?</li>
<li>Espero que lo estÃ©s haciendo con Arquitectura Hexagonal&hellip;</li>
<li>Pues la verdad es que no la necesito&hellip;</li>
<li>Â¿Que no la necesitas? Â¡Claro que la necesitas!</li>
<li>Pues no, en este caso no los necesito&hellip;</li>
<li>Lo estÃ¡s haciendo mal.</li>
</ul>


<p>Se trata de pensar las cosas, y decidir por uno mismo quÃ© necesitas en cada
momento, sin dejar que nadie, absolutamente nadie, te diga de forma categÃ³rica
como debes hacer su trabajo.</p>

<p>Espero de verdad que toda esta borrachera se acabe pronto, espero que en un
futuro empiece a haber comportamientos un poco mÃ¡s profesionales para trabajar
todos como un equipo o comunidad, que es lo que necesitamos, teniendo en cuenta
las cosas que verdaderamente importan: aprender y hacer buenos proyectos, no
importa el Framework, el lenguaje o la arquitectura.</p>
]]></content>
  </entry>
  
</feed>
